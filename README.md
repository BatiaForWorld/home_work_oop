# Домашняя работа ООП — модели Product и Category

## Описание проекта

Это домашнее задание по теме "ООП: классы и атрибуты" включает два основных класса: `Product` и `Category`.

### Архитектура проекта

Проект состоит из двух основных классов, которые моделируют предметную область электронной коммерции:

#### Класс `Product` (Товар)

Представляет отдельный товар в системе. Каждый экземпляр содержит:

- **`name`** (str) — название товара (например, "Samsung Galaxy S23 Ultra")
- **`description`** (str) — подробное описание товара с характеристиками
- **`price`** (float) — цена товара в рублях (поддерживает дробные значения для копеек)
- **`quantity`** (int) — количество товара в наличии на складе

**Особенности реализации:**
- Автоматическое приведение типов в конструкторе (`price` к `float`, `quantity` к `int`)
- Переопределённые методы `__str__` и `__repr__` для красивого отображения товара
- Типизация атрибутов для лучшей читаемости кода

#### Класс `Category` (Категория)

Представляет категорию товаров, которая может содержать несколько продуктов. Каждый экземпляр содержит:

- **`name`** (str) — название категории (например, "Смартфоны", "Телевизоры")
- **`description`** (str) — описание категории
- **`products`** (list) — список объектов `Product`, принадлежащих данной категории

**Атрибуты класса (общие для всех экземпляров):**
- **`category_count`** (int) — общее количество созданных категорий
- **`product_count`** (int) — общее количество товаров во всех категориях

**Особенности реализации:**
- Автоматическое обновление счётчиков при создании новой категории
- Создание копии переданного списка товаров для инкапсуляции данных
- Подсчёт товаров происходит по длине списка, а не по количеству на складе

### Бизнес-логика

1. **Учёт товаров**: Каждый товар имеет базовые атрибуты, необходимые для ведения каталога
2. **Организация в категории**: Товары группируются по категориям для удобной навигации
3. **Глобальная статистика**: Система автоматически ведёт учёт общего количества категорий и товаров
4. **Типобезопасность**: Все атрибуты имеют явную типизацию


## Техническая реализация

Реализованы простые классы :

- `Product` — хранит `name`, `description`, `price` (float) и `quantity` (int).
- `Category` — хранит `name`, `description` и список продуктов `products`.

Класс `Category` имеет два атрибута класса:

- `category_count` — автоматически увеличивается при создании нового объекта категории.
- `product_count` — суммарное количество продуктов во всех созданных категориях (сумма длин списков).

## Управление проектом с Poetry

Проект использует **Poetry** для управления зависимостями, виртуального окружения и автоматизации задач.

### Установка зависимостей

```bash
poetry add pytest pytest-cov flake8 black isort mypy
```

### Активация виртуального окружения

```bash
poetry init
```

### Запуск основной программы

```bash
python src/14.1_main.py
```

### Тестирование

Тесты находятся в `tests/test_models.py` и проверяют корректную инициализацию объектов и работу счётчиков.

Запуск тестов:

```bash
pytest
```


Запуск тестов с покрытием кода:

```bash
pytest --cov
```

### Проверка качества кода

Проверка соответствия PEP8 с помощью flake8:

```bash
flake8 src
```

Форматирование кода с помощью black:

```bash
black src
```

Сортировка импортов с помощью isort:

```bash
isort src
```

Типизация с помощью mypy:

```bash
mypy src
```

### Требования к качеству кода

- По результатам проверки линтером flake8 в коде не более 5 ошибок по PEP 8
- Покрытие функционального кода тестами более 85%
- Все тесты должны проходить успешно